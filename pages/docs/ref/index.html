<<head {title: "ProseMirror API 参考手册",
        type: "docs",
        toc: ref().nav}>>

<section id="part_top">
  <h2 id="top.intro">API 参考手册</h2>

  <<markdownFile "ref_intro">>
</section>

<<for module ref().modules>>
  <section id=part_<<t module.name>>>
    <h2 class=module id=<<t module.name>>>
      <a href="#<<t module.name>>">prosemirror-<<t module.name>> <span class=kind>module</span></a>
    </h2>
    <<h module.text>>
  </section>
<</for>>

<<foot>>
<script>
  // 显示汉化完成度（粗略估算），待真正完成时移除该代码
  try {
    var a = 0;
    [...document.getElementsByTagName('article')[0].getElementsByTagName('p')].forEach((p) => {
      if (/[\u4e00-\u9fa5]/g.test(p.innerText)) a = p;
    });
    var complete = `${((a.offsetTop / document.body.offsetHeight).toFixed(2) * 100)}%`;
    var frag = document.createDocumentFragment();
    var div = document.createElement('div');
    div.style = `
      position: fixed;
      right: -50px;
      top: -50px;
      width: 40px;
      text-align: start;
      height: 40px;
      display: block;
      border-style: solid;
      border-width: 30px;
      border-color: transparent transparent black;
      transform: rotate(45deg);
      font-family: none;
      font-size: 13px;
    `;  
    var a = document.createElement('a');
    a.href = 'https://github.com/xheldon-prosemirror/prosemirror';
    a.style = `
      top: 48px;
      left: -5px;
      position: absolute;
      color: white;
      white-space: nowrap;
    `;
    a.target = '_blank';
    a.innerText = `翻译:${complete}`;
    div.appendChild(a);
    frag.appendChild(div);
    document.body.appendChild(frag);
    
  } catch (e) {console.log('汉化进度统计出错:', e)}
</script>